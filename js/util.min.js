//var edu_host = "http://120.25.204.117/edu_new_web"
var edu_host="http://202.104.188.192";var edu_prefix="";var user_type_vip="vip_user";var user_type_normal="normal_user";var user_type_new="new_user";var user_type_verifying="verifying_user";var user_type_refuse="refuse_user";var Util=function(){this.toast=null;this.compressImage=function(src,dst,quality){plus.zip.compressImage({src:src,dst:dst,quality:quality},function(){},function(error){var r=error})};this.zoomImage=function(src,dst,width){plus.zip.compressImage({src:src,dst:dst,width:width },function(){},function(error){var r=error})};this.rotateImage=function(src,dst,width){plus.zip.compressImage({src:src,dst:dst,rotate:width },function(){alert("Compress success!")},function(error){alert("Compress error!")})};this.clipImage=function(src,dst,clip){plus.zip.compressImage({src:src,dst:dst,clip:clip },function(){alert("Compress success!")},function(error){alert("Compress error!")})};this.uuid=function(len,radix){var chars=_UTIL_CHARS,uuid=[],i;radix=radix||chars.length;if(len){for(i=0;i<len;i+=1){uuid[i]=chars[0|Math.random()*radix]}}else{var r;uuid[8]=uuid[13]=uuid[18]=uuid[23]='-';uuid[14]='4';for(i=0;i<36;i+=1){if(!uuid[i]){r=0|Math.random()*16;uuid[i]=chars[(i==19)?(r&0x3)|0x8:r]}}}return uuid.join('')};this.uuidFast=function(){var chars=_UTIL_CHARS,uuid=[36],rnd=0,r;for(var i=0;i<36;i+=1){if(i==8||i==13||i==18||i==23){uuid[i]='-'}else if(i==14){uuid[i]='4'}else{if(rnd<=0x02){rnd=0x2000000+(Math.random()*0x1000000)|0}r=rnd&0xf;rnd=rnd>>4;uuid[i]=chars[(i==19)?(r&0x3)|0x8:r]}}return uuid.join('')};this.uuidCompact=function(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16)})};this.loadingmessage=function(message){if(mui.os.plus){mui.plusReady(function(){plus.nativeUI.toast(message,{verticalAlign:'bottom'})})}else{this.toast=document.createElement('div');this.toast.classList.add('mui-toast-container');this.toast.innerHTML='<div class="mui-toast-message"><img src=\"'+edu_host+"/images/load.gif\" style=\"width:40px;height:40px;\"><br />"+message+'</div>';document.body.appendChild(this.toast)}};this.loadingEnd=function(){document.body.removeChild(this.toast)};this.timer=function(btnid){var wait=120;var secs=0;document.getElementById(btnid).disabled=true;for(var i=1;i<=wait;i+=1){window.setTimeout("_setTimer("+i+","+btnid+","+wait+","+secs+")",i*1000)}};this.putsessioinid=function(sessionid){localStorage.setItem("EDU_SESSIONID",sessionid)};this.getsessionid=function(){return localStorage.getItem("EDU_SESSIONID")};this.putvalueinsession=function(key,value){localStorage.setItem(key,value)};this.getvalueinsession=function(key){return localStorage.getItem(key)};this.putvalueincache=function(key,value){plus.storage.setItem(key,value)};this.getvalueincache=function(key){return plus.storage.getItem(key)};this.removekeyincache=function(key){return plus.storage.removeItem(key)};this.showloading=function(){document.getElementById('div_loading').style.display='block'};this.hideloading=function(){document.getElementById('div_loading').style.display='none'};this.checkSession=function(tourl){var util=new Util();mui.ajax(edu_host+'/index.php/Register/Register/checkSession',{data:{"sessionid":util.getsessionid()},type:'post',success:function(data){if(data=="notlogin"){util.putsessioinid('');document.location.href="../register/login.html?jumpurl="+tourl}}})};this.getParam=function(name){var reg=new RegExp("(^|&)"+name+"=([^&]*)(&|$)");var r=window.location.search.substr(1).match(reg);if(r!=null){return unescape(r[2])}return null};this.strencode=function(string,encrypt){key=calcMD5(encrypt);string=Base64.decode(string);len=key.length;code='';for(i=0;i<string.length;i+=1){k=i%len;code+=String.fromCharCode(string.charCodeAt(i)^key.charCodeAt(k))}return Base64.decode(code)};this.isNullStr=function(str){if(str==null){return true}else if(str==""){return true}else if(str==undefined){return true}else if(str=="null"){return true}else{return false}};this.post2url=function(POSTURL,PARAMS){var temp=document.getElementById("dynamicForm");temp.setAttribute("method",'post');temp.setAttribute("action",POSTURL);temp.innerHTML="";for(var i=0;i<3;i+=1){var opt=document.createElement("input");opt.setAttribute("type","hidden");opt.setAttribute("name",PARAMS[i].name);opt.setAttribute("value",PARAMS[i].value);temp.appendChild(opt)}temp.submit()}};function onPlusReadyUtil(){var go_my_home=document.getElementById("go_back_my_home");if(go_my_home){go_my_home.addEventListener("tap",function(){var util=new Util();var orgcategory=util.getvalueincache("USER_CATEGORY");var role=util.getvalueincache("USER_ROLE");var backable=util.getvalueincache("USER_BACKABLE");if(orgcategory==1&&role=="公司管理员"){document.location.href="index.html"}else if(orgcategory==1&&role=="机务经理"){if(backable){document.location.href="indexjiwuDuli.html"}else{document.location.href="indexjiwu.html"}}else if(orgcategory==2){document.location.href="indexshebei.html"}else if(orgcategory==3){document.location.href="indexchangshang.html"}else if(role=="独立管理员"||role=="渔民"){document.location.href="indexDuli.html"}})}var go_index=document.getElementById("index");if(go_index){go_index.addEventListener("tap",function(){var util=new Util();var orgcategory=util.getvalueincache("USER_CATEGORY");var role=util.getvalueincache("USER_ROLE");var Backable=util.getvalueincache("USER_BACKABLE");if(orgcategory==1&&role=="公司管理员"){document.location.href="index.html"}else if(orgcategory==1&&role=="机务经理"){if(Backable=="true"){document.location.href="indexjiwuDuli.html"}else{document.location.href="indexjiwu.html"}}else if(orgcategory==2){document.location.href="indexshebei.html"}else if(orgcategory==3){document.location.href="indexchangshang.html"}else if(role=="独立管理员"||role=="渔民"){document.location.href="indexDuli.html"}})}var go_errors=document.getElementById("errors");if(go_errors){var util=new Util();var orgcategory=util.getvalueincache("USER_CATEGORY");var usercode=util.getvalueincache("USER_CODE");go_errors.addEventListener("tap",function(){if("1"==orgcategory){document.location.href="reportErrorMain.html"}else if("2"==orgcategory){document.location.href="reportErrorMainShebei.html"}else if("4"==orgcategory){document.location.href="reportErrorMain.html"}});if("2"==orgcategory){mui.ajax(edu_host+'/Home/GetMsgCountForMobile?code='+usercode,{type:'post',success:function(data){if(data.Success&&mui(".mui-icon-chatboxes")&&mui(".mui-icon-chatboxes").length>0&&data.Data.repairCount>0){mui(".mui-icon-chatboxes")[0].innerHTML="<span class=\"mui-badge mui-badge-success\">"+data.Data.repairCount+"</span>"}}})}}var go_message=document.getElementById("message");if(go_message){go_message.addEventListener("tap",function(){document.location.href="inquiryMain.html"});var util=new Util();var orgcategory=util.getvalueincache("USER_CATEGORY");var usercode=util.getvalueincache("USER_CODE");if("2"==orgcategory){mui.ajax(edu_host+'/Home/GetMsgCountForMobile?code='+usercode,{type:'post',success:function(data){if(data.Success&&mui(".ion-ios-chatbubble-outline")&&mui(".ion-ios-chatbubble-outline").length>0&&data.Data.inqCount>0){mui(".ion-ios-chatbubble-outline")[0].innerHTML="<span class=\"mui-badge mui-badge-success\">"+data.Data.inqCount+"</span>"}}})}}var go_knowledge=document.getElementById("knowledge");if(go_knowledge){go_knowledge.addEventListener("tap",function(){var util=new Util();var role=util.getvalueincache("USER_ROLE");if("业务员"==role){document.location.href="knowledgeMain.html"}else{document.location.href="knowledge.html"}})}var go_account=document.getElementById("account");if(go_account){go_account.addEventListener("tap",function(){document.location.href="account.html"})}}document.addEventListener("plusready",onPlusReadyUtil,false);function checkUserLogin(){var userid=sessionStorage.getItem("USER_ID");if(userid==null||userid==""||userid==undefined){document.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxedb3808897dc8e14&redirect_uri=http%3A%2F%2Fwww.kingleclub.com%2Fnative%2Fwxback.php&response_type=code&scope=snsapi_userinfo&state=11#wechat_redirect"}}function randomString(len){len=len||32;var $chars='ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';var maxPos=$chars.length;var pwd='';for(i=0;i<len;i+=1){pwd+=$chars.charAt(Math.floor(Math.random()*maxPos))}return pwd}function toDecimal(x){var f=parseFloat(x);if(isNaN(f)){return}f=Math.round(x*100)/100;return f}function post2url(URL,PARAMS){var temp=document.createElement("form");temp.action=URL;temp.method="post";temp.style.display="none";for(var x in PARAMS){var opt=document.createElement("input");opt.name=x;opt.value=PARAMS[x];temp.appendChild(opt)}document.body.appendChild(temp);temp.submit();return temp}function doBack(){var util=new Util();var pg=util.getParam("pg");var fd=util.getParam("fd");if(!util.isNullStr(pg)&&!util.isNullStr(fd)){document.location.href="../"+fd+"/"+pg}else{window.history.back()}}var Base64={table:['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'],UTF16ToUTF8:function(str){var res=[],len=str.length;for(var i=0;i<len;i+=1){var code=str.charCodeAt(i);if(code>0x0000&&code<=0x007F){res.push(str.charAt(i))}else if(code>=0x0080&&code<=0x07FF){var byte1=0xC0|((code>>6)&0x1F);var byte2=0x80|(code&0x3F);res.push(String.fromCharCode(byte1),String.fromCharCode(byte2))}else if(code>=0x0800&&code<=0xFFFF){var byte1=0xE0|((code>>12)&0x0F);var byte2=0x80|((code>>6)&0x3F);var byte3=0x80|(code&0x3F);res.push(String.fromCharCode(byte1),String.fromCharCode(byte2),String.fromCharCode(byte3))}else if(code>=0x00010000&&code<=0x001FFFFF){}else if(code>=0x00200000&&code<=0x03FFFFFF){}else {}}return res.join('')},UTF8ToUTF16:function(str){var res=[],len=str.length;var i=0;for(var i=0;i<len;i+=1){var code=str.charCodeAt(i);if(((code>>7)&0xFF)==0x0){res.push(str.charAt(i))}else if(((code>>5)&0xFF)==0x6){var code2=str.charCodeAt(i+=1);var byte1=(code&0x1F)<<6;var byte2=code2&0x3F;var utf16=byte1|byte2;res.push(Sting.fromCharCode(utf16))}else if(((code>>4)&0xFF)==0xE){var code2=str.charCodeAt(i+=1);var code3=str.charCodeAt(i+=1);var byte1=(code<<4)|((code2>>2)&0x0F);var byte2=((code2&0x03)<<6)|(code3&0x3F);utf16=((byte1&0x00FF)<<8)|byte2;res.push(String.fromCharCode(utf16))}else if(((code>>3)&0xFF)==0x1E){}else if(((code>>2)&0xFF)==0x3E){}else {}}return res.join('')},encode:function(str){if(!str){return ''}var utf8=this.UTF16ToUTF8(str);var i=0;var len=utf8.length;var res=[];while(i<len){var c1=utf8.charCodeAt(i++)&0xFF;res.push(this.table[c1>>2]);if(i==len){res.push(this.table[(c1&0x3)<<4]);res.push('==');break}var c2=utf8.charCodeAt(i++);if(i==len){res.push(this.table[((c1&0x3)<<4)|((c2>>4)&0x0F)]);res.push(this.table[(c2&0x0F)<<2]);res.push('=');break}var c3=utf8.charCodeAt(i++);res.push(this.table[((c1&0x3)<<4)|((c2>>4)&0x0F)]);res.push(this.table[((c2&0x0F)<<2)|((c3&0xC0)>>6)]);res.push(this.table[c3&0x3F])}return res.join('')},decode:function(str){if(!str){return ''}var len=str.length;var i=0;var res=[];while(i<len){code1=this.table.indexOf(str.charAt(i++));code2=this.table.indexOf(str.charAt(i++));code3=this.table.indexOf(str.charAt(i++));code4=this.table.indexOf(str.charAt(i++));c1=(code1<<2)|(code2>>4);c2=((code2&0xF)<<4)|(code3>>2);c3=((code3&0x3)<<6)|code4;res.push(String.fromCharCode(c1));if(code3!=64){res.push(String.fromCharCode(c2))}if(code4!=64){res.push(String.fromCharCode(c3))}}return this.UTF8ToUTF16(res.join(''))}};Date.prototype.Format=function(fmt){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(fmt)){fmt=fmt.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in o){if(new RegExp("("+k+")").test(fmt)){fmt=fmt.replace(RegExp.$1,(RegExp.$1.length==1)?(o[k]):(("00"+o[k]).substr((""+o[k]).length)))}}return fmt};function checkImgType(img){if(!(img.endsWith("jpg")||img.endsWith("png")||img.endsWith("gif")||img.endsWith("jpeg"))){mui.toast('图片类型错误');setTimeout(function(){document.location.reload()},1000);return false}return true}Array.prototype.remove=function(dx){if(isNaN(dx)||dx>this.length){return false}for(var i=0,n=0;i<this.length;i+=1){if(this[i]!=this[dx]){this[n++]=this[i]}}this.length-=1};function isEmail(str){var reg=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return reg.test(str)}function isMobile(str){var reg=/^1[3|4|5|7|8][0-9]\d{4,8}$/;return reg.test(str)}function isInteger(str){var reg=/^([1-9]\d*|[0]{1,1})$/;return reg.test(str)}function isNumber(str){var reg=/^\+?\d+(.\d+)?$/;return reg.test(str)}function isPassword(str){var reg=/^(?![^a-zA-Z]+$)(?!\D+$).{6,20}$/;return reg.test(str)}function getCookie(name){var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");if(arr=document.cookie.match(reg)){return unescape(arr[2])}else{return null}}function checkpic(picurl){if(picurl==""){return true}var strTemp=picurl.substr(picurl.lastIndexOf(".")).toLowerCase(),AllImgExt=".jpg|.jpeg|.gif|.png|";if(AllImgExt.indexOf(strTemp+"|")!=-1){return false}else{return true}}function getFileSize(fileid){var fileInput=document.getElementById(fileid);try{byteSize=fileInput.files[0].size;return(Math.ceil(byteSize/(1024*1024)));}catch(e){return 0}}function checkpicAndSize(picurl,fileid){var standard=10;if(picurl==""){return true}var strTemp=picurl.substr(picurl.lastIndexOf(".")).toLowerCase(),AllImgExt=".jpg|.jpeg|.gif|.png|";var size=getFileSize(fileid);if(AllImgExt.indexOf(strTemp+"|")==-1){return "picfalse"}else if(size>standard||size==0){return "sizefalse"}else{return true}}function checkVideoAndSize(picurl,fileid){var standard=200;if(picurl==""){return true}var strTemp=picurl.substr(picurl.lastIndexOf(".")).toLowerCase(),AllImgExt=".mp4|.MP4";var size=getFileSize(fileid);if(AllImgExt.indexOf(strTemp+"|")==-1){return "picfalse"}else if(size>standard||size==0){return "sizefalse"}else{return true}}function IdentityCodeValid(code){var city={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "};var tip="";var pass=true;if(!code||!/^[1-9][0-9]{5}(19[0-9]{2}|200[0-9]|2010)(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])[0-9]{3}[0-9xX]$/i.test(code)){pass=false}else if(!city[code.substr(0,2)]){pass=false}else{if(code.length==18){code=code.split('');var factor=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];var parity=[1,0,'X',9,8,7,6,5,4,3,2];var sum=0;var ai=0;var wi=0;for(var i=0;i<17;i+=1){ai=code[i];wi=factor[i];sum+=ai*wi}var last=parity[sum%11];if(parity[sum%11]!=code[17]){pass=false}}}return pass}var hex_chr="0123456789abcdef";function rhex(num){str="";for(j=0;j<=3;j+=1){str+=hex_chr.charAt((num>>(j*8+4))&0x0F)+hex_chr.charAt((num>>(j*8))&0x0F)}return str}function str2blks_MD5(str){nblk=((str.length+8)>>6)+1;blks=[nblk*16];for(i=0;i<nblk*16;i+=1){blks[i]=0}for(i=0;i<str.length;i+=1){blks[i>>2]|=str.charCodeAt(i)<<((i%4)*8)}blks[i>>2]|=0x80<<((i%4)*8);blks[nblk*16-2]=str.length*8;return blks}function add(x,y){var lsw=(x&0xFFFF)+(y&0xFFFF);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&0xFFFF)}function rol(num,cnt){return(num<<cnt)|(num>>>(32-cnt))}function cmn(q,a,b,x,s,t){return add(rol(add(add(a,q),add(x,t)),s),b)}function ff(a,b,c,d,x,s,t){return cmn((b&c)|((~b)&d),a,b,x,s,t)}function gg(a,b,c,d,x,s,t){return cmn((b&d)|(c&(~d)),a,b,x,s,t)}function hh(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t)}function ii(a,b,c,d,x,s,t){return cmn(c^(b|(~d)),a,b,x,s,t)}function calcMD5(str){x=str2blks_MD5(str);a=1732584193;b=-271733879;c=-1732584194;d=271733878;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=ff(a,b,c,d,x[i+0],7,-680876936);d=ff(d,a,b,c,x[i+1],12,-389564586);c=ff(c,d,a,b,x[i+2],17,606105819);b=ff(b,c,d,a,x[i+3],22,-1044525330);a=ff(a,b,c,d,x[i+4],7,-176418897);d=ff(d,a,b,c,x[i+5],12,1200080426);c=ff(c,d,a,b,x[i+6],17,-1473231341);b=ff(b,c,d,a,x[i+7],22,-45705983);a=ff(a,b,c,d,x[i+8],7,1770035416);d=ff(d,a,b,c,x[i+9],12,-1958414417);c=ff(c,d,a,b,x[i+10],17,-42063);b=ff(b,c,d,a,x[i+11],22,-1990404162);a=ff(a,b,c,d,x[i+12],7,1804603682);d=ff(d,a,b,c,x[i+13],12,-40341101);c=ff(c,d,a,b,x[i+14],17,-1502002290);b=ff(b,c,d,a,x[i+15],22,1236535329);a=gg(a,b,c,d,x[i+1],5,-165796510);d=gg(d,a,b,c,x[i+6],9,-1069501632);c=gg(c,d,a,b,x[i+11],14,643717713);b=gg(b,c,d,a,x[i+0],20,-373897302);a=gg(a,b,c,d,x[i+5],5,-701558691);d=gg(d,a,b,c,x[i+10],9,38016083);c=gg(c,d,a,b,x[i+15],14,-660478335);b=gg(b,c,d,a,x[i+4],20,-405537848);a=gg(a,b,c,d,x[i+9],5,568446438);d=gg(d,a,b,c,x[i+14],9,-1019803690);c=gg(c,d,a,b,x[i+3],14,-187363961);b=gg(b,c,d,a,x[i+8],20,1163531501);a=gg(a,b,c,d,x[i+13],5,-1444681467);d=gg(d,a,b,c,x[i+2],9,-51403784);c=gg(c,d,a,b,x[i+7],14,1735328473);b=gg(b,c,d,a,x[i+12],20,-1926607734);a=hh(a,b,c,d,x[i+5],4,-378558);d=hh(d,a,b,c,x[i+8],11,-2022574463);c=hh(c,d,a,b,x[i+11],16,1839030562);b=hh(b,c,d,a,x[i+14],23,-35309556);a=hh(a,b,c,d,x[i+1],4,-1530992060);d=hh(d,a,b,c,x[i+4],11,1272893353);c=hh(c,d,a,b,x[i+7],16,-155497632);b=hh(b,c,d,a,x[i+10],23,-1094730640);a=hh(a,b,c,d,x[i+13],4,681279174);d=hh(d,a,b,c,x[i+0],11,-358537222);c=hh(c,d,a,b,x[i+3],16,-722521979);b=hh(b,c,d,a,x[i+6],23,76029189);a=hh(a,b,c,d,x[i+9],4,-640364487);d=hh(d,a,b,c,x[i+12],11,-421815835);c=hh(c,d,a,b,x[i+15],16,530742520);b=hh(b,c,d,a,x[i+2],23,-995338651);a=ii(a,b,c,d,x[i+0],6,-198630844);d=ii(d,a,b,c,x[i+7],10,1126891415);c=ii(c,d,a,b,x[i+14],15,-1416354905);b=ii(b,c,d,a,x[i+5],21,-57434055);a=ii(a,b,c,d,x[i+12],6,1700485571);d=ii(d,a,b,c,x[i+3],10,-1894986606);c=ii(c,d,a,b,x[i+10],15,-1051523);b=ii(b,c,d,a,x[i+1],21,-2054922799);a=ii(a,b,c,d,x[i+8],6,1873313359);d=ii(d,a,b,c,x[i+15],10,-30611744);c=ii(c,d,a,b,x[i+6],15,-1560198380);b=ii(b,c,d,a,x[i+13],21,1309151649);a=ii(a,b,c,d,x[i+4],6,-145523070);d=ii(d,a,b,c,x[i+11],10,-1120210379);c=ii(c,d,a,b,x[i+2],15,718787259);b=ii(b,c,d,a,x[i+9],21,-343485551);a=add(a,olda);b=add(b,oldb);c=add(c,oldc);d=add(d,oldd)}return rhex(a)+rhex(b)+rhex(c)+rhex(d)}function base64_encode(str){var str=toUTF8(str);var base64EncodeChars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');var out,i,j,len,r,l,c;i=j=0;len=str.length;r=len%3;len=len-r;l=(len/3)<<2;if(r>0){l+=4}out=[l];while(i<len){c=str.charCodeAt(i++)<<16|str.charCodeAt(i++)<<8|str.charCodeAt(i++);out[j++]=base64EncodeChars[c>>18]+base64EncodeChars[c>>12&0x3f]+base64EncodeChars[c>>6&0x3f]+base64EncodeChars[c&0x3f]}if(r==1){c=str.charCodeAt(i++);out[j++]=base64EncodeChars[c>>2]+base64EncodeChars[(c&0x03)<<4]+"=="}else if(r==2){c=str.charCodeAt(i++)<<8|str.charCodeAt(i++);out[j++]=base64EncodeChars[c>>10]+base64EncodeChars[c>>4&0x3f]+base64EncodeChars[(c&0x0f)<<2]+"="}return out.join('')}function base64_decode(str){var base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];var c1,c2,c3,c4;var i,j,len,r,l,out;len=str.length;if(len%4!=0){return ''}if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(str)){return ''}if(str.charAt(len-2)=='='){r=1}else if(str.charAt(len-1)=='='){r=2}else{r=0}l=len;if(r>0){l-=4}l=(l>>2)*3+r;out=[l];i=j=0;while(i<len){c1=base64DecodeChars[str.charCodeAt(i++)];if(c1==-1){break}c2=base64DecodeChars[str.charCodeAt(i++)];if(c2==-1){break}out[j++]=String.fromCharCode((c1<<2)|((c2&0x30)>>4));c3=base64DecodeChars[str.charCodeAt(i++)];if(c3==-1){break}out[j++]=String.fromCharCode(((c2&0x0f)<<4)|((c3&0x3c)>>2));c4=base64DecodeChars[str.charCodeAt(i++)];if(c4==-1){break}out[j++]=String.fromCharCode(((c3&0x03)<<6)|c4)}return toUTF16(out.join(''))}function toUTF8(str){if(str.match(/^[\x00-\x7f]*$/)!=null){return str.toString()}var out,i,j,len,c,c2;out=[];len=str.length;for(i=0,j=0;i<len;i++,j++){c=str.charCodeAt(i);if(c<=0x7f){out[j]=str.charAt(i)}else if(c<=0x7ff){out[j]=String.fromCharCode(0xc0|(c>>>6),0x80|(c&0x3f))}else if(c<0xd800||c>0xdfff){out[j]=String.fromCharCode(0xe0|(c>>>12),0x80|((c>>>6)&0x3f),0x80|(c&0x3f))}else{if(++i<len){c2=str.charCodeAt(i);if(c<=0xdbff&&0xdc00<=c2&&c2<=0xdfff){c=((c&0x03ff)<<10|(c2&0x03ff))+0x010000;if(0x010000<=c&&c<=0x10ffff){out[j]=String.fromCharCode(0xf0|((c>>>18)&0x3f),0x80|((c>>>12)&0x3f),0x80|((c>>>6)&0x3f),0x80|(c&0x3f))}else{out[j]='?'}}else{i-=1;out[j]='?'}}else{i-=1;out[j]='?'}}}return out.join('')}function toUTF16(str){if((str.match(/^[\x00-\x7f]*$/)!=null)||(str.match(/^[\x00-\xff]*$/)==null)){return str.toString()}var out,i,j,len,c,c2,c3,c4,s;out=[];len=str.length;i=j=0;while(i<len){c=str.charCodeAt(i++);switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:out[j++]=str.charAt(i-1);break;case 12:case 13:c2=str.charCodeAt(i++);out[j++]=String.fromCharCode(((c&0x1f)<<6)|(c2&0x3f));break;case 14:c2=str.charCodeAt(i++);c3=str.charCodeAt(i++);out[j++]=String.fromCharCode(((c&0x0f)<<12)|((c2&0x3f)<<6)|(c3&0x3f));break;case 15:switch(c&0xf){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c2=str.charCodeAt(i++);c3=str.charCodeAt(i++);c4=str.charCodeAt(i++);s=((c&0x07)<<18)|((c2&0x3f)<<12)|((c3&0x3f)<<6)|(c4&0x3f)-0x10000;if(0<=s&&s<=0xfffff){out[j++]=String.fromCharCode(((s>>>10)&0x03ff)|0xd800,(s&0x03ff)|0xdc00)}else{out[j++]='?'}break;case 8:case 9:case 10:case 11:i+=4;out[j++]='?';break;case 12:case 13:i+=5;out[j++]='?';break}}}return out.join('')}function getUrlPageName(){var strUrl=window.location.href;var arrUrl=strUrl.split("/");var strPage=arrUrl[arrUrl.length-1];return strPage}function _setTimer(num,btnid,wait,secs){if(num==wait){btnid.innerHTML="发送验证码";btnid.disabled=false}else{secs=wait-num;btnid.innerHTML=secs+"秒"}}var _UTIL_CHARS='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');if(document.getElementById("go_back_page")){document.getElementById("go_back_page").addEventListener("tap",function(){var _go_back_lst_str=_hide_private_util.getvalueincache("BACK_HISTORY_LST");if(_go_back_lst_str){var _go_back_lst=JSON.parse(_go_back_lst_str);_hide_private_util.putvalueincache("BACK_HISTORY_LST",JSON.stringify(_go_back_lst));var _last_page=_go_back_lst[_go_back_lst.length-2];if(_last_page.indexOf("?")!=-1){window.location.href=edu_prefix+_last_page+"&isback=true"}else{window.location.href=edu_prefix+_last_page+"?isback=true"}}})}function checkEmptyInput(ids){var util=new Util();if(ids&&ids.length>0){for(var i=0;i<ids.length;i+=1){var oneid=ids[i];var obj=document.getElementById(oneid.id);if(obj&&util.isNullStr(obj.value)){mui.toast("请填写"+oneid.name);return false}}}return true}function checkMsg(id){var util=new Util();var sessionid=util.getsessionid();if(util.isNullStr(sessionid)){return}mui.ajax(edu_host+'/index.php/Message/Message/checkUnread/sessionid/'+sessionid,{type:'post',success:function(data){var parent=document.getElementById(id);if(parent){if(data=="yes"){parent.innerHTML="<span class=\"mui-icon ion-ios-chatbubble-outline\"></span><span style=\"color:#cc0000;\">●</span><span class=\"mui-tab-label\">消息</span>"}else{parent.innerHTML="<span class=\"mui-icon ion-ios-chatbubble-outline\"></span><span class=\"mui-tab-label\">消息</span>"}}}});setTimeout(function(){checkMsg(id)},10000)}